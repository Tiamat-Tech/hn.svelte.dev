import{S as t,i as e,s,e as l,t as n,a,b as c,f as r,g as o,d as i,c as h,h as m,l as f,j as u,k as d,m as p,o as g,p as v,r as $,u as E,v as j,w as k,x as y,y as w,z as A,A as L,B as I,q as H,H as b}from"./client-c5ca0578.js";function x(t,e,s){const l=t.slice();return l[3]=e[s],l}function S(t){let e,s,$,E,j,y,L,I,H,b,x,S,N,T,V=t[0].user+"",_=t[0].time_ago+"",B=t[0].content+"",M=t[0].comments.length>0&&D(t);return{c(){e=l("article"),s=l("div"),$=l("span"),E=l("a"),j=n(V),L=a(),I=n(_),H=a(),b=l("div"),x=a(),M&&M.c(),this.h()},l(t){e=c(t,"ARTICLE",{class:!0});var l=r(e);s=c(l,"DIV",{class:!0});var n=r(s);$=c(n,"SPAN",{class:!0});var a=r($);E=c(a,"A",{rel:!0,href:!0,class:!0});var m=r(E);j=o(m,V),m.forEach(i),L=h(a),I=o(a,_),a.forEach(i),n.forEach(i),H=h(l),b=c(l,"DIV",{class:!0}),r(b).forEach(i),x=h(l),M&&M.l(l),l.forEach(i),this.h()},h(){m(E,"rel","prefetch"),m(E,"href",y="/user/"+t[0].user),m(E,"class","svelte-u08pj4"),m($,"class","meta svelte-u08pj4"),m(s,"class","meta-bar svelte-u08pj4"),m(b,"class","body svelte-u08pj4"),m(e,"class","comment svelte-u08pj4"),f(e,"hidden",t[1])},m(l,n){u(l,e,n),d(e,s),d(s,$),d($,E),d(E,j),d($,L),d($,I),d(e,H),d(e,b),b.innerHTML=B,d(e,x),M&&M.m(e,null),S=!0,N||(T=p(s,"click",t[2]),N=!0)},p(t,s){(!S||1&s)&&V!==(V=t[0].user+"")&&g(j,V),(!S||1&s&&y!==(y="/user/"+t[0].user))&&m(E,"href",y),(!S||1&s)&&_!==(_=t[0].time_ago+"")&&g(I,_),(!S||1&s)&&B!==(B=t[0].content+"")&&(b.innerHTML=B),t[0].comments.length>0?M?(M.p(t,s),1&s&&v(M,1)):(M=D(t),M.c(),v(M,1),M.m(e,null)):M&&(w(),k(M,1,1,(()=>{M=null})),A()),2&s&&f(e,"hidden",t[1])},i(t){S||(v(M),S=!0)},o(t){k(M),S=!1},d(t){t&&i(e),M&&M.d(),N=!1,T()}}}function D(t){let e,s,n=t[0].comments,a=[];for(let e=0;e<n.length;e+=1)a[e]=N(x(t,n,e));const o=t=>k(a[t],1,1,(()=>{a[t]=null}));return{c(){e=l("ul");for(let t=0;t<a.length;t+=1)a[t].c();this.h()},l(t){e=c(t,"UL",{class:!0});var s=r(e);for(let t=0;t<a.length;t+=1)a[t].l(s);s.forEach(i),this.h()},h(){m(e,"class","children svelte-u08pj4")},m(t,l){u(t,e,l);for(let t=0;t<a.length;t+=1)a[t].m(e,null);s=!0},p(t,s){if(1&s){let l;for(n=t[0].comments,l=0;l<n.length;l+=1){const c=x(t,n,l);a[l]?(a[l].p(c,s),v(a[l],1)):(a[l]=N(c),a[l].c(),v(a[l],1),a[l].m(e,null))}for(w(),l=n.length;l<a.length;l+=1)o(l);A()}},i(t){if(!s){for(let t=0;t<n.length;t+=1)v(a[t]);s=!0}},o(t){a=a.filter(Boolean);for(let t=0;t<a.length;t+=1)k(a[t]);s=!1},d(t){t&&i(e),L(a,t)}}}function N(t){let e,s,n;return s=new _({props:{comment:t[3]}}),{c(){e=l("li"),$(s.$$.fragment),this.h()},l(t){e=c(t,"LI",{class:!0});var l=r(e);E(s.$$.fragment,l),l.forEach(i),this.h()},h(){m(e,"class","svelte-u08pj4")},m(t,l){u(t,e,l),j(s,e,null),n=!0},p(t,e){const l={};1&e&&(l.comment=t[3]),s.$set(l)},i(t){n||(v(s.$$.fragment,t),n=!0)},o(t){k(s.$$.fragment,t),n=!1},d(t){t&&i(e),y(s)}}}function T(t){let e,s,l=!t[0].deleted&&S(t);return{c(){l&&l.c(),e=I()},l(t){l&&l.l(t),e=I()},m(t,n){l&&l.m(t,n),u(t,e,n),s=!0},p(t,[s]){t[0].deleted?l&&(w(),k(l,1,1,(()=>{l=null})),A()):l?(l.p(t,s),1&s&&v(l,1)):(l=S(t),l.c(),v(l,1),l.m(e.parentNode,e))},i(t){s||(v(l),s=!0)},o(t){k(l),s=!1},d(t){l&&l.d(t),t&&i(e)}}}function V(t,e,s){let{comment:l}=e,n=!1;return t.$$set=t=>{"comment"in t&&s(0,l=t.comment)},[l,n,()=>s(1,n=!n)]}class _ extends t{constructor(t){super(),e(this,t,V,T,s,{comment:0})}}function B(t,e,s){const l=t.slice();return l[1]=e[s],l}function M(t){let e,s,a=t[0].domain+"";return{c(){e=l("small"),s=n(a),this.h()},l(t){e=c(t,"SMALL",{class:!0});var l=r(e);s=o(l,a),l.forEach(i),this.h()},h(){m(e,"class","svelte-101ktgy")},m(t,l){u(t,e,l),d(e,s)},p(t,e){1&e&&a!==(a=t[0].domain+"")&&g(s,a)},d(t){t&&i(e)}}}function C(t){let e,s,l=t[0].content+"";return{c(){s=I(),this.h()},l(t){s=I(),this.h()},h(){e=new b(s)},m(t,n){e.m(l,t,n),u(t,s,n)},p(t,s){1&s&&l!==(l=t[0].content+"")&&e.p(l)},d(t){t&&i(s),t&&e.d()}}}function P(t){let e,s;return e=new _({props:{comment:t[1]}}),{c(){$(e.$$.fragment)},l(t){E(e.$$.fragment,t)},m(t,l){j(e,t,l),s=!0},p(t,s){const l={};1&s&&(l.comment=t[1]),e.$set(l)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){k(e.$$.fragment,t),s=!1},d(t){y(e,t)}}}function R(t){let e,s,f,p,$,E,j,y,I,b,x,S,D,N,T,V,_,R,q,z,U,F,G=t[0].title+"",J=t[0].points+"",K=t[0].user+"",O=t[0].time_ago+"";document.title=e=t[0].title+" | Svelte Hacker News";let Q=t[0].domain&&M(t),W=t[0].content&&C(t),X=t[0].comments,Y=[];for(let e=0;e<X.length;e+=1)Y[e]=P(B(t,X,e));const Z=t=>k(Y[t],1,1,(()=>{Y[t]=null}));return{c(){s=a(),f=l("div"),p=l("article"),$=l("a"),E=l("h1"),j=n(G),y=a(),Q&&Q.c(),b=a(),x=l("p"),S=n(J),D=n(" points by "),N=l("a"),T=n(K),_=a(),R=n(O),q=a(),W&&W.c(),z=a(),U=l("div");for(let t=0;t<Y.length;t+=1)Y[t].c();this.h()},l(t){H('[data-svelte="svelte-2h655f"]',document.head).forEach(i),s=h(t),f=c(t,"DIV",{});var e=r(f);p=c(e,"ARTICLE",{class:!0});var l=r(p);$=c(l,"A",{class:!0,href:!0});var n=r($);E=c(n,"H1",{class:!0});var a=r(E);j=o(a,G),a.forEach(i),y=h(n),Q&&Q.l(n),n.forEach(i),b=h(l),x=c(l,"P",{class:!0});var m=r(x);S=o(m,J),D=o(m," points by "),N=c(m,"A",{href:!0});var u=r(N);T=o(u,K),u.forEach(i),_=h(m),R=o(m,O),m.forEach(i),q=h(l),W&&W.l(l),l.forEach(i),z=h(e),U=c(e,"DIV",{class:!0});var d=r(U);for(let t=0;t<Y.length;t+=1)Y[t].l(d);d.forEach(i),e.forEach(i),this.h()},h(){m(E,"class","svelte-101ktgy"),m($,"class","main-link svelte-101ktgy"),m($,"href",I=t[0].url),m(N,"href",V="/user/"+t[0].user),m(x,"class","meta svelte-101ktgy"),m(p,"class","item svelte-101ktgy"),m(U,"class","comments svelte-101ktgy")},m(t,e){u(t,s,e),u(t,f,e),d(f,p),d(p,$),d($,E),d(E,j),d($,y),Q&&Q.m($,null),d(p,b),d(p,x),d(x,S),d(x,D),d(x,N),d(N,T),d(x,_),d(x,R),d(p,q),W&&W.m(p,null),d(f,z),d(f,U);for(let t=0;t<Y.length;t+=1)Y[t].m(U,null);F=!0},p(t,[s]){if((!F||1&s)&&e!==(e=t[0].title+" | Svelte Hacker News")&&(document.title=e),(!F||1&s)&&G!==(G=t[0].title+"")&&g(j,G),t[0].domain?Q?Q.p(t,s):(Q=M(t),Q.c(),Q.m($,null)):Q&&(Q.d(1),Q=null),(!F||1&s&&I!==(I=t[0].url))&&m($,"href",I),(!F||1&s)&&J!==(J=t[0].points+"")&&g(S,J),(!F||1&s)&&K!==(K=t[0].user+"")&&g(T,K),(!F||1&s&&V!==(V="/user/"+t[0].user))&&m(N,"href",V),(!F||1&s)&&O!==(O=t[0].time_ago+"")&&g(R,O),t[0].content?W?W.p(t,s):(W=C(t),W.c(),W.m(p,null)):W&&(W.d(1),W=null),1&s){let e;for(X=t[0].comments,e=0;e<X.length;e+=1){const l=B(t,X,e);Y[e]?(Y[e].p(l,s),v(Y[e],1)):(Y[e]=P(l),Y[e].c(),v(Y[e],1),Y[e].m(U,null))}for(w(),e=X.length;e<Y.length;e+=1)Z(e);A()}},i(t){if(!F){for(let t=0;t<X.length;t+=1)v(Y[t]);F=!0}},o(t){Y=Y.filter(Boolean);for(let t=0;t<Y.length;t+=1)k(Y[t]);F=!1},d(t){t&&i(s),t&&i(f),Q&&Q.d(),W&&W.d(),L(Y,t)}}}async function q({params:t}){const e=await this.fetch(`https://api.hnpwa.com/v0/item/${t.id}.json`);return{item:await e.json()}}function z(t,e,s){let{item:l}=e;return t.$$set=t=>{"item"in t&&s(0,l=t.item)},[l]}export default class extends t{constructor(t){super(),e(this,t,z,R,s,{item:0})}}export{q as preload};
//# sourceMappingURL=[id]-b62046ea.js.map
