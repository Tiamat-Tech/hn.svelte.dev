import{S as t,i as e,s,e as n,t as a,b as r,f as o,g as i,d as l,h as c,j as h,k as m,o as f,a as u,c as d,n as p,B as g,p as v,r as $,u as y,v as w,w as x,x as E,z as k,q as A,A as N,y as _}from"./client-c5ca0578.js";function j(t){let e,s,u,d,p=t[0].domain+"";return{c(){e=n("small"),s=a("("),u=a(p),d=a(")"),this.h()},l(t){e=r(t,"SMALL",{class:!0});var n=o(e);s=i(n,"("),u=i(n,p),d=i(n,")"),n.forEach(l),this.h()},h(){c(e,"class","svelte-k6yna4")},m(t,n){h(t,e,n),m(e,s),m(e,u),m(e,d)},p(t,e){1&e&&p!==(p=t[0].domain+"")&&f(u,p)},d(t){t&&l(e)}}}function b(t){let e,s,p,g,v,$,y,w,x,E,k,A,N,_,j=t[0].points+"",b=t[0].user+"",L=t[0].time_ago+"",S=t[0].comments_count+"",H=1===t[0].comments_count?"comment":"comments";return{c(){e=n("p"),s=a(j),p=a(" points by\n\t\t\t"),g=n("a"),v=a(b),y=u(),w=a(L),x=a("\n\t\t\t | "),E=n("a"),k=a(S),A=u(),N=a(H),this.h()},l(t){e=r(t,"P",{class:!0});var n=o(e);s=i(n,j),p=i(n," points by\n\t\t\t"),g=r(n,"A",{rel:!0,href:!0});var a=o(g);v=i(a,b),a.forEach(l),y=d(n),w=i(n,L),x=i(n,"\n\t\t\t | "),E=r(n,"A",{rel:!0,href:!0});var c=o(E);k=i(c,S),A=d(c),N=i(c,H),c.forEach(l),n.forEach(l),this.h()},h(){c(g,"rel","prefetch"),c(g,"href",$="/user/"+t[0].user),c(E,"rel","prefetch"),c(E,"href",_="/item/"+t[0].id),c(e,"class","svelte-k6yna4")},m(t,n){h(t,e,n),m(e,s),m(e,p),m(e,g),m(g,v),m(e,y),m(e,w),m(e,x),m(e,E),m(E,k),m(E,A),m(E,N)},p(t,e){1&e&&j!==(j=t[0].points+"")&&f(s,j),1&e&&b!==(b=t[0].user+"")&&f(v,b),1&e&&$!==($="/user/"+t[0].user)&&c(g,"href",$),1&e&&L!==(L=t[0].time_ago+"")&&f(w,L),1&e&&S!==(S=t[0].comments_count+"")&&f(k,S),1&e&&H!==(H=1===t[0].comments_count?"comment":"comments")&&f(N,H),1&e&&_!==(_="/item/"+t[0].id)&&c(E,"href",_)},d(t){t&&l(e)}}}function L(t){let e,s,u=t[0].time_ago+"";return{c(){e=n("p"),s=a(u),this.h()},l(t){e=r(t,"P",{class:!0});var n=o(e);s=i(n,u),n.forEach(l),this.h()},h(){c(e,"class","svelte-k6yna4")},m(t,n){h(t,e,n),m(e,s)},p(t,e){1&e&&u!==(u=t[0].time_ago+"")&&f(s,u)},d(t){t&&l(e)}}}function S(t){let e,s,g,v,$,y,w,x,E,k,A=t[0].title+"",N=t[0].domain&&j(t);function _(t,e){return"job"===t[0].type?L:b}let S=_(t),H=S(t);return{c(){e=n("article"),s=n("h2"),g=n("a"),v=a(A),$=u(),N&&N.c(),w=u(),H.c(),x=u(),E=n("span"),k=a(t[1]),this.h()},l(n){e=r(n,"ARTICLE",{class:!0});var a=o(e);s=r(a,"H2",{class:!0});var c=o(s);g=r(c,"A",{href:!0,class:!0});var h=o(g);v=i(h,A),$=d(h),N&&N.l(h),h.forEach(l),c.forEach(l),w=d(a),H.l(a),x=d(a),E=r(a,"SPAN",{class:!0});var m=o(E);k=i(m,t[1]),m.forEach(l),a.forEach(l),this.h()},h(){c(g,"href",y=t[0].domain?t[0].url:"/item/"+t[0].id),c(g,"class","svelte-k6yna4"),c(s,"class","svelte-k6yna4"),c(E,"class","index svelte-k6yna4"),c(e,"class","svelte-k6yna4")},m(t,n){h(t,e,n),m(e,s),m(s,g),m(g,v),m(g,$),N&&N.m(g,null),m(e,w),H.m(e,null),m(e,x),m(e,E),m(E,k)},p(t,[s]){1&s&&A!==(A=t[0].title+"")&&f(v,A),t[0].domain?N?N.p(t,s):(N=j(t),N.c(),N.m(g,null)):N&&(N.d(1),N=null),1&s&&y!==(y=t[0].domain?t[0].url:"/item/"+t[0].id)&&c(g,"href",y),S===(S=_(t))&&H?H.p(t,s):(H.d(1),H=S(t),H&&(H.c(),H.m(e,x))),2&s&&f(k,t[1])},i:p,o:p,d(t){t&&l(e),N&&N.d(),H.d()}}}function H(t,e,s){let{item:n}=e,{index:a}=e;return t.$$set=t=>{"item"in t&&s(0,n=t.item),"index"in t&&s(1,a=t.index)},[n,a]}class M extends t{constructor(t){super(),e(this,t,H,S,s,{item:0,index:1})}}function P(t,e,s){const n=t.slice();return n[5]=e[s],n[7]=s,n}function B(t){let e,s;return e=new M({props:{item:t[5],index:t[2]+t[7]}}),{c(){$(e.$$.fragment)},l(t){y(e.$$.fragment,t)},m(t,n){w(e,t,n),s=!0},p(t,s){const n={};2&s&&(n.item=t[5]),4&s&&(n.index=t[2]+t[7]),e.$set(n)},i(t){s||(v(e.$$.fragment,t),s=!0)},o(t){x(e.$$.fragment,t),s=!1},d(t){E(e,t)}}}function T(t){let e,s,n=t[5]&&B(t);return{c(){n&&n.c(),e=g()},l(t){n&&n.l(t),e=g()},m(t,a){n&&n.m(t,a),h(t,e,a),s=!0},p(t,s){t[5]?n?(n.p(t,s),2&s&&v(n,1)):(n=B(t),n.c(),v(n,1),n.m(e.parentNode,e)):n&&(_(),x(n,1,1,(()=>{n=null})),k())},i(t){s||(v(n),s=!0)},o(t){x(n),s=!1},d(t){n&&n.d(t),t&&l(e)}}}function q(t){let e,s;return{c(){e=n("a"),s=a("More..."),this.h()},l(t){e=r(t,"A",{class:!0,href:!0});var n=o(e);s=i(n,"More..."),n.forEach(l),this.h()},h(){c(e,"class","more"),c(e,"href",t[3])},m(t,n){h(t,e,n),m(e,s)},p(t,s){8&s&&c(e,"href",t[3])},d(t){t&&l(e)}}}function z(t){let e,s,a,o,i,f,p=t[1],$=[];for(let e=0;e<p.length;e+=1)$[e]=T(P(t,p,e));const y=t=>x($[t],1,1,(()=>{$[t]=null}));let w=t[3]&&q(t);return{c(){e=n("meta"),a=u();for(let t=0;t<$.length;t+=1)$[t].c();o=u(),w&&w.c(),i=g(),this.h()},l(t){const s=A('[data-svelte="svelte-1gjtxnr"]',document.head);e=r(s,"META",{name:!0,content:!0}),s.forEach(l),a=d(t);for(let e=0;e<$.length;e+=1)$[e].l(t);o=d(t),w&&w.l(t),i=g(),this.h()},h(){document.title="Svelte Hacker News",c(e,"name","description"),c(e,"content",s="Latest Hacker News stories in the "+t[0]+" category")},m(t,s){m(document.head,e),h(t,a,s);for(let e=0;e<$.length;e+=1)$[e].m(t,s);h(t,o,s),w&&w.m(t,s),h(t,i,s),f=!0},p(t,[n]){if((!f||1&n&&s!==(s="Latest Hacker News stories in the "+t[0]+" category"))&&c(e,"content",s),6&n){let e;for(p=t[1],e=0;e<p.length;e+=1){const s=P(t,p,e);$[e]?($[e].p(s,n),v($[e],1)):($[e]=T(s),$[e].c(),v($[e],1),$[e].m(o.parentNode,o))}for(_(),e=p.length;e<$.length;e+=1)y(e);k()}t[3]?w?w.p(t,n):(w=q(t),w.c(),w.m(i.parentNode,i)):w&&(w.d(1),w=null)},i(t){if(!f){for(let t=0;t<p.length;t+=1)v($[t]);f=!0}},o(t){$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)x($[t]);f=!1},d(t){l(e),t&&l(a),N($,t),t&&l(o),w&&w.d(t),t&&l(i)}}}const C=new Set(["news","newest","show","ask","jobs"]);async function I({params:t}){const e="top"===t.list?"news":"new"===t.list?"newest":t.list;if(!C.has(e))return console.log("invalid"),void this.error(404,"Not found");const s=+t.page,n=await this.fetch(`https://api.hnpwa.com/v0/${e}/${s}.json`);return{page:s,list:e,items:await n.json()}}function R(t,e,s){let n,a,{page:r}=e,{list:o}=e,{items:i}=e;return t.$$set=t=>{"page"in t&&s(4,r=t.page),"list"in t&&s(0,o=t.list),"items"in t&&s(1,i=t.items)},t.$$.update=()=>{16&t.$$.dirty&&s(2,n=1+30*(r-1)),17&t.$$.dirty&&s(3,a=`/${o}/${+r+1}`)},[o,i,n,a,r]}export default class extends t{constructor(t){super(),e(this,t,R,z,s,{page:4,list:0,items:1})}}export{I as preload};
//# sourceMappingURL=[page]-bc200ebb.js.map
